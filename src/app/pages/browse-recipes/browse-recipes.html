<h1 class="page-title">Explore our simple, healthy recipes</h1>
<p class="page-description">
    Discover eight quick, whole-food dishes that fit real-life schedules and taste amazing. Use the search bar to find a recipe by name or ingredient, or simply scroll the list and let something delicious catch your eye.
</p>

<section class="filter-wrapper">
    <!-- Prep Time filter -->
    <div class="filter" (mouseleave)="turnOffPrepTimeFilter()" (blur)="turnOffPrepTimeFilter()">
        <button class="filter__open-button" (click)="togglePrepTimeFilter()">
            Max Prep Time
            <img src="/assets/images/icon-chevron-down.svg" alt="">
        </button>
        <fieldset [class]="`filter__choices ${isPrepTimeFilterActive() && 'active'}`">
            <label>
                <input type="radio" name="prep-time" [formControl]="prepTime" [value]="0">
                0 minutes
            </label>
            <label>
                <input type="radio" name="prep-time" [formControl]="prepTime" [value]="5">
                5 minutes
            </label>
            <label>
                <input type="radio" name="prep-time" [formControl]="prepTime" [value]="10">
                10 minutes
            </label>
            <button class="clear-button" (click)="clearPrepTime()">Clear</button>
        </fieldset>
    </div>

    <!-- Cook Time filter -->
    <div class="filter" (mouseleave)="turnOffCookTimeFilter()" (blur)="turnOffCookTimeFilter()">
        <button class="filter__open-button" (click)="toggleCookTimeFilter()">
            Max Cook Time
            <img src="/assets/images/icon-chevron-down.svg" alt="">
        </button>
        <fieldset [class]="`filter__choices ${isCookTimeFilterActive() && 'active'}`">
            <label>
                <input type="radio" name="cook-time" [formControl]="cookTime" [value]="0">
                0 minutes
            </label>
            <label>
                <input type="radio" name="cook-time" [formControl]="cookTime" [value]="5">
                5 minutes
            </label>
            <label>
                <input type="radio" name="cook-time" [formControl]="cookTime" [value]="10">
                10 minutes
            </label>
            <label>
                <input type="radio" name="cook-time" [formControl]="cookTime" [value]="15">
                15 minutes
            </label>
            <label>
                <input type="radio" name="cook-time" [formControl]="cookTime" [value]="20">
                20 minutes
            </label>
            <button class="clear-button" (click)="clearCookTime()">Clear</button>
        </fieldset>
    </div>

    <div class="search-wrapper">
        <input id="search-input" [formControl]="searchInput" type="text" placeholder="Search by name or ingredientâ€¦">
    </div>
</section>

<section class="recipe-card-wrapper">
    @for(recipe of filteredRecipes; track recipe.id){
        <app-recipe-card 
            [imgSmallSrc]="recipe.image.small"
            [imgLargeSrc]="recipe.image.large"
            [title]="recipe.title"
            [overview]="recipe.overview"
            [servings]="recipe.servings"
            [prepMinutes]="recipe.prepMinutes"
            [cookMinutes]="recipe.cookMinutes"
            [slug]="recipe.slug" 
        ></app-recipe-card>
    }
</section>